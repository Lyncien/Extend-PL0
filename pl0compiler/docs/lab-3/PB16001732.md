# Lab3 完善与拓展

PB16001732魏天心

## 1 目标

完成语法分析中的错误处理并完成拓展任务

## 2 完成情况

- 顺利完成test_err.pl中的错误处理。
- 在lab3所给的拓展任务中,在原来pl0语法分析得到基础上完成了：
- 增加逻辑运算符 && || ! 
- 增加返回值
- 增加else/elif 
- 增加do while
- 增加参数传递和在语法分析中引入负数，共计16颗星。

## 3 分工

在实验中我负责调试程序，在理清程序思路的情况下，添加一些功能，并用不同的测试文件进行测试，根据输出找到问题并修改，使之能正确运行。

## 4 遇到的困难

我们首先重新绘制了语法图，使之能够实现新的功能，并且由于之前所写的程序构造较差，对于错误分析就很难正确地运行，因此在语法图之上首先重构了之前的代码，将first,follow集能更好地使用，在这个过程中我们对每个非终结符定义一个followset不断通过调用并加入新的终结符传递和一个firstset来判断通过get_token得到的终结符是否是想要得到，否则就通过check来报错并跳过不合理的部分，得到在followset中我们所期望的接下来的输入。

在完成代码的重构后，对 test_err.pl 以及我们自行添加的测试用例进行测试时，常常出现与编写代码时预期报错情况不符合的报错，所以需要经常性的修改，通过查看输出的语法树，并模拟追踪代码执行过程来定位 bug，并进行修复。

## 5 感想与不足

1. 本次实验完成是通过每周固定几次的会面协商完成，比上次进步较大
2. 不足是有时候想的太多，导致进展太慢
3. 代码写的比较慢，最后才完成





